<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <title></title>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
<header class="header">
    <h1>歌曲排行榜</h1>
</header>
<section class="section" id="section">
    <!--<table class="table" border="1" cellspacing="0" width="200">
       <tr>
           <th colspan="2">歌唱者</th>
       </tr>
        <tr>
            <td>张杰</td>
            <td>这就是爱</td>
        </tr>
    </table>-->
</section>
<footer class="footer">
    <h2>底部</h2>
</footer>
<script type="text/javascript">
    var section=document.getElementById("section")
    function ajax(){
        var xml=null;
        if(window.XMLHttpRequest){
            xml=new XMLHttpRequest();
        }else{
            xml=new ActiveXObject("Microsoft,XMLHTTP")
        }
        xml.open("get","http://localhost:3000/post");
        xml.send(null);
        xml.onreadystatechange=function(){
            if(xml.readyState==4 && xml.status==200){
                var result=JSON.parse(xml.responseText);
                //console.log(console.log(result1)JSON.parse(result.data));
                console.log(result[0].title)
                var str='<table class="table" border="1" cellspacing="0" width="200">'+'<tr>'+
                        '<th colspan="2">歌唱者</th>'+
                        '</tr>';
                for(var i=0;i<result.length;i++){
                    str+='<tr>'+
                            '<td>'+result[0].author+'</td>'+
                            '<td>'+result[0].title+'</td>'+
                            '</tr>'

                }
                str+="</table>";
                section.innerHTML=str;
            }
        }
    }
    ajax()
</script>
</body>
</html>